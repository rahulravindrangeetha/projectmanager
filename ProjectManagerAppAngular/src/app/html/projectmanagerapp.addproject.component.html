<!--The content below is only a placeholder and can be replaced.-->
<div class="container">
    <form #addProjectForm="ngForm">
    <div style="text-align:left">
        <table>
            <tr>
                <td>
                        Project:
                </td>
                <td>
                        <input type="text" [(ngModel)]="projectDesc" name="project" class="inputBoxSetting3" required/>
                </td>
            </tr>
            <tr>
                    <td>&nbsp;</td>
                    <td>
                            <input type="checkbox" (change)="toggle()" (checked)="checkBoxVal" name="checkBoxVal" class="inputBoxSetting3" required/>
                            Set Start Date and End Date <input type="text" bsDatepicker [disabled]="!checkBoxVal" name="startDate" [(ngModel)]="startDate" [bsConfig]="bsConfig" readonly required class="inputBoxSetting3"/>
                            <input type="text" bsDatepicker  name="endDate" [(ngModel)]="endDate" [disabled]="!checkBoxVal" [bsConfig]="bsConfig" readonly required class="inputBoxSetting3"/>
                   </td>
            </tr>
            <tr>
                    <td>
                            Priority:
                    </td>
                    <td>
                                <ng5-slider [(value)]="priority" [(ngModel)]="priority" [options]="options"></ng5-slider>
                                {{priority}}
                                
                    </td>
                </tr>
                <tr>
                        <td>
                                Manager:
                        </td>
                        <td>
                                <input type="text" [(ngModel)]="managerName" name="managerName" class="inputBoxSetting3" readonly required style="width:80%"/>
                                &nbsp;
                                <button type="button" (click)="addManager()" class="btn btn-primary btn-sm black-background white" data-toggle="modal" data-target="#myModal">Search</button>
                        </td>
                    </tr>
        </table>
        <table>
            <tr>
                    <td [hidden]="visible" style="text-align:center;padding-top:70px;"><button type="button" (click)="addProject()" class="btn btn-primary btn-lg black-background white" [disabled]="!addProjectForm.form.valid">Add</button></td>
                    <td [hidden]="!visible" style="text-align:center;padding-top:70px;"><button type="button" (click)="updateProject()" class="btn btn-primary btn-lg black-background white" [disabled]="!addProjectForm.form.valid">Update</button></td>
                    <td style="text-align:left;padding-top:70px;"><button type="button" (click)="resetForm()" class="btn btn-primary btn-lg black-background white">Reset</button></td>
        
            </tr>
        </table>


    </div>
    </form>
    <div style="text-align:left">
        <h3><input type="text" placeholder="Search" [(ngModel)]="searchProject" style="padding-left:5px;width:100%;height:50px;font-size:14pt"/>
                Sort : <button name="startDate" (click)='setOrder($event)' style="width:90%" class="btn btn-primary btn-lg black-background white" >Start Date</button>
                <button name="endDate" (click)='setOrder($event)' style="width:90%" class="btn btn-primary btn-lg black-background white" >End Date</button>
                <button name="priority" (click)='setOrder($event)' style="width:90%" class="btn btn-primary btn-lg black-background white" >Priority</button>
                <button name="completed" (click)='setOrder($event)' style="width:90%" class="btn btn-primary btn-lg black-background white" >Completed</button>
        </h3>

        <div *ngFor="let project of data | projectFilter:searchProject | orderBy:orderByData:reverse:true" class="divSetting">
            <table style="width:100%">
                <tr>                       
                    <td style="width:60%">
                        <table style="width:100%">
                                <tr>
                                        <td>
                                                Project:
                                        </td>
                                        <td>
                                                {{project.project}}{{searchProject}}
                                        </td>
                                        <td>
                                                &nbsp;
                                        </td>
                                        <td>
                                                &nbsp;
                                        </td>
                                </tr>
                                <tr>
                                                <td>
                                                        No of Tasks:
                                                </td>
                                                <td>
                                                        {{project.noOfTasks}}
                                                </td>
                                                <td>
                                                        Completed:
                                                </td>
                                                <td>
                                                        {{project.completed}}
                                                </td>
                                </tr>
                                <tr>
                                                <td>
                                                        Start Date:
                                                </td>
                                                <td>
                                                        {{project.startDate}}
                                                </td>
                                                <td>
                                                        End Date:
                                                </td>
                                                <td>
                                                        {{project.endDate}}
                                                </td>
                                </tr>
                        </table>
                    </td>
                    <td style="width:20%">
                            <table style="width:100%">
                                <tr>
                                        <td>Priority</td>
                                </tr>
                                <tr>
                                        <td>{{project.priority}}{{searchProject}}</td>
                                </tr>
                            </table>
                    </td>
                    <td style="width:20%">
                                <table style="width:100%">
                                                <tr>
                                                        <td><button name="edit" (click)='editProject(project)' [disabled]="project.projectSuspended" style="width:90%" class="btn btn-primary btn-lg black-background white">Update</button></td>
                                                </tr>
                                                <tr>
                                                                <td><button name="edit" (click)='suspendProject(project.projectId)' [disabled]="project.noOfTasks===0 || project.projectSuspended" style="width:90%" class="btn btn-primary btn-lg black-background white">Suspend</button></td>
                                                </tr>
                                            </table>

                    </td>
                </tr>
            </table>
            &nbsp;
        </div>
    </div>
    <div class="modal fade" id="myModal" role="document">
        <div class="modal-dialog">
        
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Search Manger</h4>
            </div>
            <div class="modal-body">
                <div style="text-align:left">
                        <h3><input type="text" placeholder="Search" [(ngModel)]="managerSearch" style="padding-left:5px;width:100%;height:50px;font-size:14pt"/>
                        </h3>
                        &nbsp;&nbsp;
                        <table style="width:100%">
                                <tr>
                                        <th style="width:34%">First Name</th>
                                        <th style="width:34%">Last Name</th>
                                        <th style="width:32%">Employee Id</th>
                                </tr>                            
                                <tr *ngFor="let user of users | userFilter:managerSearch" (click)='addManager(user)'  [ngClass]="{'rowClass': user.userId===managerUserId}">
                                        <td style="width:34%">
                                                <input type="text" [(ngModel)]="user.firstName" name="firstName" class="inputBoxSetting3" disabled />
                                        </td>
                                        <td style="width:34%">
                                                <input type="text" [(ngModel)]="user.lastName" name="lastName" class="inputBoxSetting3" disabled/>
                                        </td>
                                        <td style="width:32%">
                                                <input type="text" [(ngModel)]="user.employeeId" name="employeeId" class="inputBoxSetting3" disabled />
                                        </td>
                                </tr>

                        </table>
                </div>
            </div>
            <div class="modal-footer d-flex">
              <button type="button" class="btn btn-default" data-dismiss="modal" (click)=assignFn()>Select</button>
            </div>
          </div>
          
        </div>
      </div>
</div>


{{projectSearch}}